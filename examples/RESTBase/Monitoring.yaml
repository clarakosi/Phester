# Example similar to: https://github.com/wikimedia/restbase/blob/master/v1/content.yaml#L284
#
# Example run: ./phester.php test https://en.wikipedia.org/api/rest_v1/ examples/RESTBase/Monitoring.yaml

suite: RESTBase monitoring page/html/{title}
description: Test Monitoring on page/html/{title}
type: REST

tests:
  - description: Get html by title from storage
    interaction:
      - request:
          path: page/html/title
          path-vars:
            title: User:BSitzmann_(WMF)/MCS/Test/Frankenstein
        response:
          headers:
            content-type: !pcre/pattern: /^text\/html.+/
            etag: !pcre/pattern: /.+/
          body: !pcre/pattern: /^<!DOCTYPE html>.*/
